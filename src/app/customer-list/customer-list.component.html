<mat-card class="material-card list-controls">
  <div class="export-row">
    <button mat-raised-button color="accent">
      <ng-icon name="lucideFileSpreadsheet"></ng-icon>
      Export to Excel
    </button>
  </div>

  <div class="filters">
    <div class="filter-group">
      <mat-form-field appearance="outline">
        <mat-label>Multiple Bidders</mat-label>
        <mat-select
          [(ngModel)]="listFilters.multipleCustomers"
          (selectionChange)="updateListFilter('multipleCustomers', $event.value)"
        >
          <mat-option value="">All</mat-option>
          <mat-option value="customer1">Bidder 1</mat-option>
          <mat-option value="customer2">Bidder 2</mat-option>
          <mat-option value="customer3">Bidder 3</mat-option>
        </mat-select>
      </mat-form-field>
      <button mat-icon-button (click)="resetListFilter('multipleCustomers')">
        <ng-icon name="lucideRotateCcw"></ng-icon>
      </button>
    </div>

    <div class="filter-group">
      <mat-form-field appearance="outline">
        <mat-label>Bidder</mat-label>
        <mat-select [(ngModel)]="listFilters.customer" (selectionChange)="updateListFilter('customer', $event.value)">
          <mat-option value="">All bidders</mat-option>
          <mat-option value="john">Ken Parker</mat-option>
          <mat-option value="jane">Jane Smith</mat-option>
          <mat-option value="bob">Bob Johnson</mat-option>
        </mat-select>
      </mat-form-field>
      <button mat-icon-button (click)="resetListFilter('customer')">
        <ng-icon name="lucideRotateCcw"></ng-icon>
      </button>
    </div>

    <div class="filter-group">
      <mat-form-field appearance="outline">
        <mat-label>Status</mat-label>
        <mat-select [(ngModel)]="listFilters.status" (selectionChange)="updateListFilter('status', $event.value)">
          <mat-option value="">All statuses</mat-option>
          <mat-option value="active">Active</mat-option>
          <mat-option value="pending">Pending</mat-option>
          <mat-option value="complete">Complete</mat-option>
        </mat-select>
      </mat-form-field>
      <button mat-icon-button (click)="resetListFilter('status')">
        <ng-icon name="lucideRotateCcw"></ng-icon>
      </button>
    </div>

    <div class="filter-group">
      <mat-form-field appearance="outline">
        <mat-label>Month</mat-label>
        <mat-select [(ngModel)]="listFilters.month" (selectionChange)="updateListFilter('month', $event.value)">
          <mat-option value="">All months</mat-option>
          <mat-option *ngFor="let month of months.slice(0, 12)" [value]="month.toLowerCase()">
            {{ month }}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <button mat-icon-button (click)="resetListFilter('month')">
        <ng-icon name="lucideRotateCcw"></ng-icon>
      </button>
    </div>

    <div class="filter-group">
      <mat-form-field appearance="outline">
        <mat-label>Year</mat-label>
        <mat-select [(ngModel)]="listFilters.year" (selectionChange)="updateListFilter('year', $event.value)">
          <mat-option value="">All years</mat-option>
          <mat-option *ngFor="let year of years" [value]="year">{{ year }}</mat-option>
        </mat-select>
      </mat-form-field>
      <button mat-icon-button (click)="resetListFilter('year')">
        <ng-icon name="lucideRotateCcw"></ng-icon>
      </button>
    </div>

    <div class="filter-group">
      <mat-form-field appearance="outline" class="range-field">
        <mat-label>RLF Range From</mat-label>
        <input matInput [(ngModel)]="listFilters.rangeFrom" (ngModelChange)="updateListFilter('rangeFrom', $event)" />
      </mat-form-field>
      <mat-form-field appearance="outline" class="range-field">
        <mat-label>RLF Range To</mat-label>
        <input matInput [(ngModel)]="listFilters.rangeTo" (ngModelChange)="updateListFilter('rangeTo', $event)" />
      </mat-form-field>
      <button mat-icon-button (click)="resetListFilter('rangeFrom'); resetListFilter('rangeTo')">
        <ng-icon name="lucideRotateCcw"></ng-icon>
      </button>
    </div>
  </div>
</mat-card>

<mat-card class="material-card list-card">
  <div class="table-container">
    <table mat-table [dataSource]="listTableData" class="mat-elevation-z0">
      <ng-container *ngFor="let column of columns" [matColumnDef]="column.key">
        <th mat-header-cell *matHeaderCellDef>{{ column.label }}</th>
        <td mat-cell *matCellDef="let row">{{ valueFor(row, column.key) }}</td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>
  </div>
</mat-card>
