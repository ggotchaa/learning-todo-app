<mat-card class="material-card awards-header">
  <div class="header-main">
    <div>
      <h2>Tender Award Analysis {{ selectedMonth }} {{ selectedYear }}</h2>
      <p>Creator: John Smith</p>
    </div>
    <div class="header-actions">
      <button mat-raised-button color="primary">View Proposals</button>
      <button mat-stroked-button>
        <mat-icon>refresh</mat-icon>
        Refresh
      </button>
    </div>
  </div>
  <div class="tab-row">
    <button mat-button [color]="activeTab === 'Initiate' ? 'primary' : undefined" (click)="setTab('Initiate')">
      Initiate
    </button>
    <button mat-button [color]="activeTab === 'History' ? 'primary' : undefined" (click)="setTab('History')">
      History
    </button>
    <button mat-button [color]="activeTab === 'Active' ? 'primary' : undefined" (click)="setTab('Active')">
      Active
    </button>
  </div>
</mat-card>

<ng-container [ngSwitch]="activeTab">
<mat-card *ngSwitchCase="'Initiate'" class="material-card initiate-card">
  <h3 class="initiate-title">Tender award analysis report details</h3>

  <div class="step-grid">
    <div class="step-card step-card--collect has-arrow">
      <span class="step-badge step-badge--blue">1</span>
      <h4>Data Collection</h4>
      <p>Gather all required documents and information needed for processing.</p>
      <button mat-raised-button color="primary">Start Collection</button>
    </div>

    <div class="step-card step-card--process has-arrow">
      <span class="step-badge step-badge--orange">2</span>
      <h4>Processing</h4>
      <p>Analyze and process the collected data through our system.</p>
      <span class="status-chip status-chip--processing">Processing</span>
    </div>

    <div class="step-card step-card--complete">
      <span class="step-badge step-badge--green">3</span>
      <h4>Completion</h4>
      <p>Review results and finalize the awarded nominations.</p>
      <span class="status-chip status-chip--complete">Complete</span>
    </div>
  </div>

  <p class="formula">
    Calculating Performance(%) = (Lifted PR + Lifted BT)/(Nominated PR + Nominated BT)
  </p>

  <mat-card class="material-card progress-card">
    <div class="progress-header">
      <strong>Current Progress</strong>
      <span class="progress-meta">Step 1 of 3</span>
    </div>
    <mat-progress-bar mode="determinate" value="33"></mat-progress-bar>
    <div class="progress-actions">
      <button mat-raised-button color="primary">Get Shipments</button>
      <button mat-stroked-button>Analyze History</button>
    </div>
  </mat-card>
</mat-card>


  <mat-card *ngSwitchCase="'History'" class="material-card history-card">
    <h3>Historical Data</h3>
    <div class="table-container">
      <table mat-table [dataSource]="historyTableData" class="mat-elevation-z0">
        <ng-container *ngFor="let column of historyColumns" [matColumnDef]="column.key">
          <th mat-header-cell *matHeaderCellDef>{{ column.label }}</th>
          <td mat-cell *matCellDef="let row">{{ valueFor(row, column.key) }}</td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="historyColumnKeys"></tr>
        <tr mat-row *matRowDef="let row; columns: historyColumnKeys"></tr>
      </table>
    </div>
  </mat-card>

  <div *ngSwitchCase="'Active'" class="active-view">
    <mat-card class="material-card">
      <div class="table-container">
        <table mat-table [dataSource]="awardsData" class="mat-elevation-z0">
          <ng-container *ngFor="let column of awardsColumns" [matColumnDef]="column.key">
            <th mat-header-cell *matHeaderCellDef>{{ column.label }}</th>
            <td mat-cell *matCellDef="let row">{{ valueFor(row, column.key) }}</td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="awardsColumnKeys"></tr>
          <tr mat-row *matRowDef="let row; columns: awardsColumnKeys"></tr>
        </table>
      </div>
    </mat-card>

    <mat-card class="material-card">
      <div class="table-container">
        <table mat-table [dataSource]="secondTableData" class="mat-elevation-z0">
          <ng-container *ngFor="let column of secondaryColumns" [matColumnDef]="column.key">
            <th mat-header-cell *matHeaderCellDef>{{ column.label }}</th>
            <td mat-cell *matCellDef="let row">{{ valueFor(row, column.key) }}</td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="secondaryColumnKeys"></tr>
          <tr mat-row *matRowDef="let row; columns: secondaryColumnKeys"></tr>
        </table>
      </div>
    </mat-card>
  </div>
</ng-container>
